(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c6d70e0"],{1681:function(t,e,s){},5873:function(t,e,s){},5916:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{staticClass:"text-center"},[s("v-col",{attrs:{cols:"12"}},[t._l(t.list,(function(e,a){return[s("v-card",{key:"pst-"+e.id,staticClass:"mx-auto mb-12 pb-4"},[s("v-list-item",{staticClass:"text-left"},[s("v-list-item-avatar",{attrs:{color:"red"}},[s("v-icon",{attrs:{color:"white"},domProps:{textContent:t._s("mdi-alpha-"+e.type[0])}})],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"headline"},[t._v(" "+t._s(e.title)+" ")]),s("v-list-item-subtitle",[t._v(t._s(e.poster_name))])],1)],1),s("v-card-text",{staticClass:"text-left"},[s("div",{staticStyle:{"background-color":"#E0F2F1","border-radius":"14px",padding:"12px"}},[t._v(" "+t._s(e.message)+" ")])]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:"",small:"",color:"deep-purple accent-4"},on:{click:function(e){return t.openThreadForm("comment",a)}}},[t._v(" comment ")])],1),s("v-divider"),s("v-card",{staticClass:"ml-10",attrs:{elevation:"0"}},[t._l(e.comments,(function(e,i){return[s("div",{key:"ci-"+e.id},[s("v-list-item",{staticClass:"text-left"},[s("v-list-item-avatar",{attrs:{color:"red"}},[s("v-icon",{attrs:{color:"white"},domProps:{textContent:t._s("mdi-alpha-"+e.type[0])}})],1),s("v-list-item-content",[s("v-list-item-subtitle",[t._v(t._s(e.commentor_name))])],1)],1),s("v-card-text",{staticClass:"text-left"},[s("div",{staticStyle:{"background-color":"#E0F2F1","border-radius":"14px",padding:"12px"}},[t._v(" "+t._s(e.message)+" ")])]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:"",small:"",color:"deep-purple accent-4"},on:{click:function(e){return t.openThreadForm("reply",a,i)}}},[t._v(" reply ")])],1)],1),t._l(e.replies,(function(a){return[s("v-card",{key:"ri-"+a.id,staticClass:"ml-10",attrs:{elevation:"0"}},[s("v-list-item",{staticClass:"text-left"},[s("v-list-item-avatar",{attrs:{color:"red"}},[s("v-icon",{attrs:{color:"white"},domProps:{textContent:t._s("mdi-alpha-"+e.type[0])}})],1),s("v-list-item-content",[s("v-list-item-subtitle",[t._v(t._s(a.replier_name))])],1)],1),s("v-card-text",{staticClass:"text-left"},[s("div",{staticStyle:{"background-color":"#E0F2F1","border-radius":"14px",padding:"12px"}},[t._v(" "+t._s(a.message)+" ")])]),s("v-card-actions",[s("v-spacer")],1)],1)]}))]}))],2)],1)]})),s("v-btn",{attrs:{fixed:"",dark:"",bottom:"",right:"",fab:"",color:"primary darken-1"},on:{click:function(e){return t.openThreadForm("post",0)}}},[s("v-icon",[t._v("mdi-plus")])],1)],2)],1),s("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.newPostDialog,callback:function(e){t.newPostDialog=e},expression:"newPostDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle[t.formOf]))])]),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"12",sm:"6"}},["post"==t.formOf?s("v-text-field",{attrs:{clearable:"","clear-icon":"mdi-close",label:"Title",required:""},model:{value:t.tempPost.title,callback:function(e){t.$set(t.tempPost,"title",e)},expression:"tempPost.title"}}):t._e(),s("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close",label:"Message",required:""},model:{value:t.tempPost.message,callback:function(e){t.$set(t.tempPost,"message",e)},expression:"tempPost.message"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.newPostDialog=!1}}},[t._v(" Close ")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)},i=[],o=void 0,n={data:function(){return{list:[],formOf:"post",formTitle:{post:"New Thread",comment:"Comment",reply:"Reply"},newPostDialog:!1,tempPost:{table:"",title:"",message:"",post_id:"",comment_id:""},threadIndex:[]}},mounted:function(){this.init()},methods:{init:function(){var t=this;axios.get(window.basePath+"/api/forum/post",this.tempPost,{withCredentials:!0}).then((function(e){t.list=e.data.posts,console.log(t.list)})).catch((function(t){console.log(t.response.data)}))},openThreadForm:function(t){this.newPostDialog=!this.newPostDialog,this.formOf=t;for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++)s[a-1]=arguments[a];this.threadIndex=s,this.tempPost.post_id="comment"==t?this.list[s[0]].id:"",this.tempPost.comment_id="reply"==t?this.list[s[0]].comments[s[1]].id:""},saveCommentOrReply:function(){},save:function(){var t=this,e={};this.tempPost.table=this.tableName(this.formOf),e.title=this.tempPost.title,e.message=this.tempPost.message,axios.post(window.basePath+"/api/forum/post",this.tempPost).then((function(e){if("SUCCESS"==e.data.THREAD_UPDATE){t.newPostDialog=!1;var s="";"post"==t.formOf?s="Posting successful":"comment"==t.formOf?s="Commenting successfull":"reply"==t.formOf&&(s="Replied successfull"),t.clearForm(),t.newPostDialog=!1,t.init(),Swal.fire({title:"",text:s,icon:"success",confirmButtonText:"ok"})}})).catch((function(t){console.log(t.response)}))},tableName:function(t){switch(t){case"post":return"posts";case"comment":return"comments";case"reply":return"replies";default:return}},clearForm:function(){Object.assign(this.tempPost,{table:"",title:"",message:"",post_id:"",comment_id:""})}},computed:{computedList:{get:function(){return this.list},set:function(t){return o.list=t}}}},r=n,l=(s("f337"),s("2877")),c=s("6544"),d=s.n(c),m=s("8336"),u=s("b0af"),p=s("99d9"),v=s("62ad"),h=s("a523"),f=s("169a"),g=s("ce7e"),x=s("132d"),w=s("da13"),b=s("8270"),_=s("5d23"),P=s("0fd9"),C=s("2fa4"),y=s("8654"),k=(s("a9e3"),s("5530")),V=(s("1681"),s("58df")),I=Object(V["a"])(y["a"]),T=I.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(k["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},y["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"}},genInput:function(){var t=y["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){y["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),F=Object(l["a"])(r,a,i,!1,null,"45fd010a",null);e["default"]=F.exports;d()(F,{VBtn:m["a"],VCard:u["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:v["a"],VContainer:h["a"],VDialog:f["a"],VDivider:g["a"],VIcon:x["a"],VListItem:w["a"],VListItemAvatar:b["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"],VRow:P["a"],VSpacer:C["a"],VTextField:y["a"],VTextarea:T})},"8ce9":function(t,e,s){},ce7e:function(t,e,s){"use strict";var a=s("5530"),i=(s("8ce9"),s("7560"));e["a"]=i["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:Object(a["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(a["a"])({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})},f337:function(t,e,s){"use strict";var a=s("5873"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-5c6d70e0.c397412b.js.map